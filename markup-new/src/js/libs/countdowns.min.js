(function(a){var b={countdowns:[],init:function(){a("[data-countdown]").each(function(){var c=a(this),d={self:c,target:c.data("countdown")};a.extend(d,b.getUnits(c)),d.biggestUnit=b.getBiggestUnit(d.unitNames),b.countdowns.push(d)}),b.startCountdowns()},getUnits:function(b){var c=[],d={};return a("[data-countdown-unit]",b).each(function(){var b=a(this),e=b.data("countdown-unit");c.push(e),d[e]=b}),{unitNames:c,unitFields:d}},getBiggestUnit:function(a){var b={seconds:10,minutes:20,hours:30,days:40,weeks:50,months:60,years:70},c=[];return a.forEach(function(a){c.push(b[a])}),Math.max.apply(null,c)},startCountdowns:function(){b.countdowns.forEach(function(a,c){b.updateCountdown(a)&&(b.countdowns[c].interval=setInterval(function(){b.updateCountdown(a)||clearInterval(a.interval)},1e3))})},updateCountdown:function(a){var c=b.timeRemaining(a);return!!(0<c.total)&&(a.unitNames.forEach(function(b){9>=c[b]?a.unitFields[b].text("0"+c[b]):a.unitFields[b].text(c[b])}),!0)},timeRemaining:function(a){var b=Date.parse(a.target)-Date.parse(new Date),c={total:b};return a.unitNames.indexOf("seconds")+1&&(c.seconds=Math.floor(b/1e3),10<a.biggestUnit&&(c.seconds=Math.floor(c.seconds%60))),a.unitNames.indexOf("minutes")+1&&(c.minutes=Math.floor(b/1e3/60),20<a.biggestUnit&&(c.minutes=Math.floor(c.minutes%60))),a.unitNames.indexOf("hours")+1&&(c.hours=Math.floor(b/3600000),30<a.biggestUnit&&(c.hours=Math.floor(c.hours%24))),a.unitNames.indexOf("days")+1&&(c.days=Math.floor(b/86400000),40<a.biggestUnit&&(c.days=Math.floor(c.days%7))),a.unitNames.indexOf("weeks")+1&&(c.weeks=Math.floor(b/604800000),50<a.biggestUnit&&(c.weeks=Math.floor(c.weeks%4.35))),a.unitNames.indexOf("months")+1&&(c.months=Math.floor(b/2630880000),60<a.biggestUnit&&(c.months=Math.floor(c.months%12))),a.unitNames.indexOf("years")+1&&(c.years=Math.floor(b/31570560000)),c}};a(document).ready(b.init)})(jQuery);